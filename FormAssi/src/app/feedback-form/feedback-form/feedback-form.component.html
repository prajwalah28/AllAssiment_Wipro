<mat-card *ngIf="!submitted" class="form-card">
  <form [formGroup]="feedbackForm" (ngSubmit)="onSubmit()">
    
    <!-- Name -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Name</mat-label>
      <input matInput formControlName="name" />
      <mat-error *ngIf="f['name'].touched && f['name'].invalid">
        Name is required
      </mat-error>
    </mat-form-field>

    <!-- Email -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" />
      <mat-error *ngIf="f['email'].touched && f['email'].invalid">
        Please enter a valid email
      </mat-error>
    </mat-form-field>

    <!-- Subject -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Subject</mat-label>
      <input matInput formControlName="subject" maxlength="40" />
      <mat-hint align="end">{{ f['subject'].value?.length || 0 }}/40</mat-hint>
      <mat-error *ngIf="f['subject'].touched && f['subject'].invalid">
        Subject is required and max 40 characters
      </mat-error>
    </mat-form-field>

    <!-- Comments -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Comments / Issue</mat-label>
      <textarea matInput formControlName="comments" rows="4" maxlength="350"></textarea>
      <mat-hint align="end">{{ f['comments'].value?.length || 0 }}/350</mat-hint>
      <mat-error *ngIf="f['comments'].touched && f['comments'].invalid">
        Comments are required (max 350 characters)
      </mat-error>
    </mat-form-field>

    <!-- Submit -->
    <button mat-raised-button color="primary" type="submit" [disabled]="feedbackForm.invalid">
      Submit
    </button>
  </form>
</mat-card>

<!-- Thank You Message -->
<mat-card *ngIf="submitted" class="thank-card">
  <h2>âœ… Thank you!</h2>
  <p>We will get back to you shortly.</p>
</mat-card>
